
(function(a){
	a.fn.DB_treeMenu=function(b){
		var c={
			key:"",pageNum:null,motionType:"slide",motionSpeed:200
		};
		a.extend(c,b);
		return this.each(function(){
			var j=a(this);
			var g=a(this).find(".DB_1D");
			var f=a(this).find(".DB_plus");
			var i=c.pageNum-1;
			k();
			function k(){
				 
				d();
				h()
			}
			function d(){
				if(i>=0){
					g.eq(i).addClass("DB_select");
					var l=g.eq(i).find(".DB_tree:first");
					l.nextAll("ul:first").show();
					e(l,"on","off")
				}
			}
			function h(){
				f.bind("click",function(){
					var l=a(this).nextAll("ul");
					if(l.css("display")=="none"){
						if(c.motionType=="slide"){
							a(this).nextAll("ul").slideDown(c.motionSpeed)
						}
						else{
							a(this).nextAll("ul").show()
						}
						e(a(this),"on","off")
					}
					else{
						if(c.motionType=="slide"){
							a(this).nextAll("ul").slideUp(c.motionSpeed)
						}
						else{
							a(this).nextAll("ul").hide()
						}
						e(a(this),"off","on")
					}
				})
			}
			function e(m,l,n){
				var o=m.attr("src");
				if(String(o).search(l)!=-1){
					m.attr("src",o.replace(l,n))
				}
			}
		})
	}
})(jQuery);